#SSTNPL COMPILER v0.4.0
#header
head-rname=stnptest_waitcycle
head-nspin=stdnsp
fopset1;>io.ttywr
fopset2;>io.packart
#stnp source file: (autogenerated from) "roms/r_stnp_tests/stnptest_waitcycle.stnp
#prline
fopwri1;:M
fopwri1;:A
fopwri1;:X
fopwri1;:\s
fopwri1;:5
fopwri1;:9
fopwri1;:0
fopwri1;:4
fopwri1;:6
fopwri1;:\n
#Wait loop
setreg1;0
datawrite1;>waitcy-loopback-3
setreg1;0;waitcy-loopback-3
setreg2;10x1
add
datawrite1;>waitcy-loopback-3
setreg2;10x9841
gotoifless;>waitcy-loopback-3

#prline
fopwri1;:7
fopwri1;:\s
fopwri1;:c
fopwri1;:y
fopwri1;:c
fopwri1;:l
fopwri1;:e
fopwri1;:s
fopwri1;:\s
fopwri1;:(
fopwri1;:n
fopwri1;:o
fopwri1;:t
fopwri1;:\s
fopwri1;:d
fopwri1;:i
fopwri1;:v
fopwri1;:i
fopwri1;:s
fopwri1;:i
fopwri1;:b
fopwri1;:l
fopwri1;:e
fopwri1;:\s
fopwri1;:b
fopwri1;:y
fopwri1;:\s
fopwri1;:6
fopwri1;:)
fopwri1;:\n
#Wait loop
setreg1;0
datawrite1;>waitcy-loopback-5
setreg1;0;waitcy-loopback-5
setreg2;10x1
add
datawrite1;>waitcy-loopback-5
setreg2;10x1
gotoifless;>waitcy-loopback-5

#prline
fopwri1;:d
fopwri1;:o
fopwri1;:n
fopwri1;:e
fopwri1;:.
fopwri1;:\s
fopwri1;:p
fopwri1;:r
fopwri1;:e
fopwri1;:s
fopwri1;:s
fopwri1;:\s
fopwri1;:a
fopwri1;:\s
fopwri1;:k
fopwri1;:e
fopwri1;:y
fopwri1;:\s
fopwri1;:t
fopwri1;:o
fopwri1;:\s
fopwri1;:e
fopwri1;:x
fopwri1;:i
fopwri1;:t
fopwri1;:.
fopwri1;:\n
#keprompt: prompt for single keypress, continue only when keypress is received.
setreg2;0
iowrite1;>io.ttyrd
ioread1;>io.ttyrd;keyprompt--loop-14
gotoif;>keyprompt--loop-14
#stop (shutdown vm)
stop
#END OF FILE
